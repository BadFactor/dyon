fn main() {
    syntax_string := str(link {
        "1 pos = [.$:"js("x")" .w! .$:"js("y")"]\n"
        "0 doc = [pos:"js("pos")" "until_any("", "body")"]\n"
    })
    text := "1 2 hi"

    syntax := unwrap(syntax(in: "syntax.txt", string: syntax_string))
    d := unwrap(meta(syntax: syntax, in: "test.txt", string: text))
    println(json_from_meta_data(d))
}

until_any(chars, name) = link {"..."js(chars)"!:"js(name)}

js(t) = json_string(t)
